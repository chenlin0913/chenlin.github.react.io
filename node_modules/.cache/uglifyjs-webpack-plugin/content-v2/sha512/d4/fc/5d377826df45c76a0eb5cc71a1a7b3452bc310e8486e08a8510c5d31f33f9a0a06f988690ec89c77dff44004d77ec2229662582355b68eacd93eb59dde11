{"map":"{\"version\":3,\"sources\":[\"D:/react-router-redux-cl/src\\\\page\\\\utils\\\\apis.js\"],\"names\":[\"__webpack_require__\",\"instance\",\"axios\",\"create\",\"baseURL\",\"interceptors\",\"request\",\"use\",\"config\",\"method\",\"data\",\"qs\",\"stringify\",\"error\",\"console\",\"log\",\"store\",\"dispatch\",\"type\",\"open\",\"title\",\"message\",\"Promise\",\"reject\",\"response\",\"post\",\"url\",\"resolve\",\"then\",\"success\",\"msg\",\"catch\"],\"mappings\":\"0IAAA,QAAAA,EAAA,uCACAA,EAAA,4EAEA,IAEMC,EAAWC,EAAMC,QACtBC,QAHgB,SAOjBH,EAASI,aAAaC,QAAQC,IAAI,SAAAC,GAKjC,MAHmB,SAAhBA,EAAOC,SACTD,EAAOE,KAAOC,EAAAA,QAAGC,UAAUJ,EAAOE,OAE5BF,GACN,SAAAK,GAQD,OAPAC,QAAQC,IAAIF,GACZG,EAAAA,QAAMC,UACLC,KAAK,YACLC,MAAK,EACLC,MAAM,wBACNC,QAAQ,iCAEFC,QAAQC,OAAOV,KAIvBZ,EAASI,aAAamB,SAASjB,IAAI,SAAAiB,GAElC,OAAOA,GACN,SAAAX,GASD,OARAC,QAAQC,IAAIF,GAEZG,EAAAA,QAAMC,UACLC,KAAK,YACLC,MAAK,EACLC,MAAM,wBACNC,QAAQ,gDAEFC,QAAQC,OAAOV,gBAItBY,KADa,SACRC,EAAIhB,GACR,OAAO,IAAIY,QAAQ,SAACK,EAAQJ,GAC3BtB,EAASwB,KAAKC,EAAIhB,GAAMkB,KAAK,SAAAJ,GAE5B,GADAV,QAAQC,IAAI,aACRS,EAASd,KAAKmB,QAQjB,OAPAb,EAAAA,QAAMC,UACLC,KAAK,YACLC,MAAK,EACLC,MAAM,wBACNC,QAAQG,EAASd,KAAKoB,WAEvBP,EAAOC,GAGRG,EAAQH,IACP,SAAAX,GACDC,QAAQC,IAAI,SACZC,EAAAA,QAAMC,UACLC,KAAK,YACLC,MAAK,EACLC,MAAM,wBACNC,QAAQ,gDAETE,EAAOV,KACLkB,MAAM,SAAAlB,GACRC,QAAQC,IAAI,SACZC,EAAAA,QAAMC,UACLC,KAAK,YACLC,MAAK,EACLC,MAAM,wBACNC,QAAQ,gDAETE,EAAOV\",\"sourcesContent\":[\"import qs from 'qs';\\r\\nimport store from '@/redux/store';\\r\\n\\r\\nconst baseURLs = '/api';\\r\\n\\r\\nconst instance = axios.create({\\r\\n\\tbaseURL:baseURLs\\r\\n});\\r\\n\\r\\n//请求拦截器\\r\\ninstance.interceptors.request.use(config=>{\\r\\n\\t//loading开启\\r\\n\\tif(config.method==='post'){//如果是post请求，将传参进行qs序列化\\r\\n\\t\\tconfig.data = qs.stringify(config.data);\\r\\n\\t}\\r\\n\\treturn config;\\r\\n},error=>{\\r\\n\\tconsole.log(error);\\r\\n\\tstore.dispatch({\\r\\n\\t\\ttype:'OPENALERT',\\r\\n\\t\\topen:true,\\r\\n\\t\\ttitle:'Error message prompt！',\\r\\n\\t\\tmessage:'Incorrect parameter passing！'\\r\\n\\t});\\r\\n\\treturn Promise.reject(error);\\r\\n})\\r\\n\\r\\n//响应拦截器\\r\\ninstance.interceptors.response.use(response=>{\\r\\n\\t//loading关闭\\r\\n\\treturn response;\\r\\n},error=>{\\r\\n\\tconsole.log(error);\\r\\n\\t//loading关闭\\r\\n\\tstore.dispatch({\\r\\n\\t\\ttype:'OPENALERT',\\r\\n\\t\\topen:true,\\r\\n\\t\\ttitle:'Error message prompt！',\\r\\n\\t\\tmessage:'Abnormal network, please check the network！'\\r\\n\\t});\\r\\n\\treturn Promise.reject(error);\\r\\n})\\r\\n\\r\\nexport default{\\r\\n\\tpost(url,data){\\r\\n\\t\\treturn new Promise((resolve,reject)=>{\\r\\n\\t\\t\\tinstance.post(url,data).then(response=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"response\\\");\\r\\n\\t\\t\\t\\tif(!response.data.success){\\r\\n\\t\\t\\t\\t\\tstore.dispatch({\\r\\n\\t\\t\\t\\t\\t\\ttype:'OPENALERT',\\r\\n\\t\\t\\t\\t\\t\\topen:true,\\r\\n\\t\\t\\t\\t\\t\\ttitle:'Error message prompt！',\\r\\n\\t\\t\\t\\t\\t\\tmessage:response.data.msg\\r\\n\\t\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\t\\treject(response);\\r\\n\\t\\t\\t\\t\\treturn;\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\tresolve(response);\\r\\n\\t\\t\\t},error=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"error\\\");\\r\\n\\t\\t\\t\\tstore.dispatch({\\r\\n\\t\\t\\t\\t\\ttype:'OPENALERT',\\r\\n\\t\\t\\t\\t\\topen:true,\\r\\n\\t\\t\\t\\t\\ttitle:'Error message prompt！',\\r\\n\\t\\t\\t\\t\\tmessage:'Abnormal network, please check the network！'\\r\\n\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\treject(error);\\r\\n\\t\\t\\t}).catch(error=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"catch\\\");\\r\\n\\t\\t\\t\\tstore.dispatch({\\r\\n\\t\\t\\t\\t\\ttype:'OPENALERT',\\r\\n\\t\\t\\t\\t\\topen:true,\\r\\n\\t\\t\\t\\t\\ttitle:'Error message prompt！',\\r\\n\\t\\t\\t\\t\\tmessage:'Abnormal network, please check the network！'\\r\\n\\t\\t\\t\\t});\\r\\n\\t\\t\\t\\treject(error);\\r\\n\\t\\t\\t})\\r\\n\\t\\t})\\r\\n\\t}\\r\\n}\"]}","code":"webpackHotUpdate(5,{\"./src/page/utils/apis.js\":function(e,t,o){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var s=n(o(\"./node_modules/qs/lib/index.js\")),r=n(o(\"./src/redux/store.js\"));function n(e){return e&&e.__esModule?e:{default:e}}var a=e.create({baseURL:\"/api\"});a.interceptors.request.use(function(e){return\"post\"===e.method&&(e.data=s.default.stringify(e.data)),e},function(e){return console.log(e),r.default.dispatch({type:\"OPENALERT\",open:!0,title:\"Error message prompt！\",message:\"Incorrect parameter passing！\"}),Promise.reject(e)}),a.interceptors.response.use(function(e){return e},function(e){return console.log(e),r.default.dispatch({type:\"OPENALERT\",open:!0,title:\"Error message prompt！\",message:\"Abnormal network, please check the network！\"}),Promise.reject(e)}),t.default={post:function(e,t){return new Promise(function(o,s){a.post(e,t).then(function(e){if(console.log(\"response\"),!e.data.success)return r.default.dispatch({type:\"OPENALERT\",open:!0,title:\"Error message prompt！\",message:e.data.msg}),void s(e);o(e)},function(e){console.log(\"error\"),r.default.dispatch({type:\"OPENALERT\",open:!0,title:\"Error message prompt！\",message:\"Abnormal network, please check the network！\"}),s(e)}).catch(function(e){console.log(\"catch\"),r.default.dispatch({type:\"OPENALERT\",open:!0,title:\"Error message prompt！\",message:\"Abnormal network, please check the network！\"}),s(e)})})}}}).call(this,o(\"./node_modules/axios/index.js\"))}});","extractedComments":[]}