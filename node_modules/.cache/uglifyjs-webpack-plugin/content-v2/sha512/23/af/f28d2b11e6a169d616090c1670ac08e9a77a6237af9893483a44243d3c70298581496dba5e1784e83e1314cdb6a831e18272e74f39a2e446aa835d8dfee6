{"map":"{\"version\":3,\"sources\":[\"D:/react-router-redux-cl/src\\\\page\\\\home\\\\login\\\\Login.js\",\"D:/react-router-redux-cl/src\\\\page\\\\utils\\\\apis.js\",\"D:/react-router-redux-cl/src\\\\redux\\\\actions\\\\action-login.js\"],\"names\":[\"_styles\",\"__webpack_require__\",\"_reactRedux\",\"_actionLogin\",\"Login\",\"props\",\"_classCallCheck\",\"this\",\"_this\",\"_possibleConstructorReturn\",\"__proto__\",\"Object\",\"getPrototypeOf\",\"call\",\"handleChange\",\"account\",\"event\",\"setState\",\"target\",\"value\",\"handleGetPwd\",\"password\",\"handleClick\",\"store\",\"dispatch\",\"goToLogin\",\"state\",\"React\",\"Component\",\"classes\",\"createElement\",\"id\",\"className\",\"container\",\"noValidate\",\"autoComplete\",\"_TextField2\",\"default\",\"label\",\"textField\",\"onChange\",\"margin\",\"type\",\"_Button2\",\"size\",\"variant\",\"button\",\"onClick\",\"loginData\",\"loginstate\",\"propTypes\",\"PropTypes\",\"object\",\"isRequired\",\"connect\",\"implLogin\",\"withStyles\",\"theme\",\"display\",\"flexWrap\",\"marginLeft\",\"spacing\",\"unit\",\"marginRight\",\"width\",\"_qs\",\"instance\",\"axios\",\"create\",\"baseURL\",\"interceptors\",\"request\",\"use\",\"config\",\"method\",\"data\",\"qs\",\"stringify\",\"error\",\"console\",\"log\",\"alert\",\"Promise\",\"reject\",\"response\",\"post\",\"url\",\"resolve\",\"then\",\"success\",\"catch\",\"item\",\"ajax\",\"username\",\"res\",\"types\",\"LOGIN\",\"_apis\"],\"mappings\":\"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\",\"sourcesContent\":[\"import { withStyles } from '@material-ui/core/styles';\\r\\nimport MenuItem from '@material-ui/core/MenuItem';\\r\\nimport TextField from '@material-ui/core/TextField';\\r\\nimport Button from '@material-ui/core/Button';\\r\\nimport { connect } from 'react-redux';\\r\\nimport store from '@/redux/store';\\r\\nimport {goToLogin} from '@/redux/actions/action-login';\\r\\n\\r\\nconst styles = theme =>({\\r\\n\\tcontainer:{\\r\\n\\t\\tdisplay: 'flex',\\r\\n\\t\\tflexWrap: 'wrap'\\r\\n\\t},\\r\\n\\ttextField:{\\r\\n\\t\\tmarginLeft:theme.spacing.unit,\\r\\n\\t\\tmarginRight: theme.spacing.unit,\\r\\n\\t\\twidth: 200\\r\\n\\t},\\r\\n\\tbutton:{\\r\\n\\t\\tmargin: theme.spacing.unit\\r\\n\\t}\\r\\n})\\r\\n\\r\\nclass Login extends React.Component{\\r\\n\\tconstructor(props){\\r\\n\\t\\tsuper(props);\\r\\n\\t\\tthis.state = {\\r\\n\\t\\t\\taccount:'',\\r\\n\\t\\t\\tpassword:''\\r\\n\\t\\t}\\r\\n\\t}\\r\\n\\r\\n\\tcomponentWillMount(){\\r\\n\\t\\t\\r\\n\\t}\\r\\n\\r\\n\\thandleChange = account => event =>{\\r\\n\\t\\tthis.setState({\\r\\n\\t      \\taccount: event.target.value\\r\\n\\t    });\\r\\n\\t}\\r\\n\\r\\n\\thandleGetPwd = password => event =>{\\r\\n\\t\\tthis.setState({\\r\\n\\t\\t\\tpassword: event.target.value\\r\\n\\t\\t});\\r\\n\\t}\\r\\n\\r\\n\\thandleClick = () =>{\\r\\n\\t\\tstore.dispatch(goToLogin(this.state));\\r\\n\\t}\\r\\n\\r\\n\\trender(){\\r\\n\\t\\tconst {classes} = this.props;\\r\\n\\t\\treturn(\\r\\n\\t\\t\\t<div id=\\\"login\\\">\\r\\n\\t\\t\\t\\t<form className={classes.container} noValidate autoComplete=\\\"off\\\">\\r\\n\\t\\t\\t\\t\\t<TextField id=\\\"account\\\" label=\\\"Account\\\" className={classes.textField} value={this.state.account} onChange={this.handleChange('account')} margin=\\\"normal\\\"/>\\r\\n\\t\\t\\t\\t\\t<TextField id=\\\"password-input\\\" label=\\\"Password\\\" className={classes.textField}  type=\\\"password\\\" value={this.state.password} onChange={this.handleGetPwd('password-input')} autoComplete=\\\"current-password\\\" margin=\\\"normal\\\"/>\\r\\n\\t\\t\\t\\t\\t<Button size=\\\"small\\\" variant=\\\"outlined\\\" className={classes.button} onClick={this.handleClick}>Login</Button>\\r\\n\\t\\t\\t\\t\\t登录状态：{this.props.loginData.loginstate+\\\" ,\\\"}\\r\\n\\t\\t\\t\\t</form>\\r\\n\\t\\t\\t</div>\\r\\n\\t\\t)\\r\\n\\t}\\r\\n}\\r\\n\\r\\nconst mapStateToProps = (store) =>{\\r\\n\\treturn{\\r\\n\\t\\tloginData:store.implLogin\\r\\n\\t}\\r\\n}\\r\\n\\r\\n\\r\\n\\r\\nLogin.propTypes = {\\r\\n  classes: PropTypes.object.isRequired,\\r\\n}\\r\\n\\r\\nexport default connect(mapStateToProps)(withStyles(styles)(Login));\",\"import qs from 'qs';\\r\\n\\r\\nconst baseURLs = '/api';\\r\\n\\r\\nconst instance = axios.create({\\r\\n\\tbaseURL:baseURLs\\r\\n});\\r\\n\\r\\n//请求拦截器\\r\\ninstance.interceptors.request.use(config=>{\\r\\n\\t//loading开启\\r\\n\\tif(config.method==='post'){//如果是post请求，将传参进行qs序列化\\r\\n\\t\\tconfig.data = qs.stringify(config.data);\\r\\n\\t}\\r\\n\\treturn config;\\r\\n},error=>{\\r\\n\\tconsole.log(error);\\r\\n\\talert(\\\"错误的传参\\\");\\r\\n\\treturn Promise.reject(error);\\r\\n})\\r\\n\\r\\n//响应拦截器\\r\\ninstance.interceptors.response.use(response=>{\\r\\n\\t//loading关闭\\r\\n\\treturn response;\\r\\n},error=>{\\r\\n\\tconsole.log(error);\\r\\n\\t//loading关闭\\r\\n\\talert(\\\"网络异常，请检测网络！\\\");\\r\\n\\treturn Promise.reject(error);\\r\\n})\\r\\n\\r\\nexport default{\\r\\n\\tpost(url,data){\\r\\n\\t\\treturn new Promise((resolve,reject)=>{\\r\\n\\t\\t\\tinstance.post(url,data).then(response=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"response\\\");\\r\\n\\t\\t\\t\\tif(response.data.success){\\r\\n\\t\\t\\t\\t\\tresolve(response);\\r\\n\\t\\t\\t\\t}else{\\r\\n\\t\\t\\t\\t\\treject(response);\\r\\n\\t\\t\\t\\t}\\r\\n\\t\\t\\t\\t\\r\\n\\t\\t\\t},error=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"error\\\");\\r\\n\\t\\t\\t\\treject(error);\\r\\n\\t\\t\\t}).catch(error=>{\\r\\n\\t\\t\\t\\tconsole.log(\\\"catch\\\");\\r\\n\\t\\t\\t\\treject(error);\\r\\n\\t\\t\\t})\\r\\n\\t\\t})\\r\\n\\t}\\r\\n}\",\"import * as types from '@/redux/actions/action-type';\\r\\nimport ajax from '@/page/utils/apis';\\r\\n\\r\\n/**\\r\\n * [登录]\\r\\n * @param  {[type]} item [登录所需参数]\\r\\n * @return {[type]}      [description]\\r\\n */\\r\\nexport function goToLogin(item){\\r\\n\\tconsole.log(item);\\r\\n\\tconsole.log('action');\\r\\n\\treturn dispatch =>{\\r\\n\\t\\tajax.post('/user/login.do',{username:item.account,password:item.password}).then((res) =>{\\r\\n\\t\\t\\tconsole.log(res);\\r\\n\\t\\t\\tdispatch({\\r\\n\\t\\t\\t\\ttype:types.LOGIN,\\r\\n\\t\\t\\t\\tloginstate:true\\r\\n\\t\\t\\t})\\r\\n\\t\\t},(error)=>{\\r\\n\\t\\t\\tconsole.log(error);\\r\\n\\t\\t\\tdispatch({\\r\\n\\t\\t\\t\\ttype:types.LOGIN,\\r\\n\\t\\t\\t\\tloginstate:false\\r\\n\\t\\t\\t})\\r\\n\\t\\t})\\r\\n\\t}\\r\\n}\\r\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{\"./src/page/home/login/Login.js\":function(e,t,n){\"use strict\";(function(e,o){Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),a=n(\"./node_modules/@material-ui/core/styles/index.js\"),s=(d(n(\"./node_modules/@material-ui/core/MenuItem/index.js\")),d(n(\"./node_modules/@material-ui/core/TextField/index.js\"))),i=d(n(\"./node_modules/@material-ui/core/Button/index.js\")),u=n(\"./node_modules/react-redux/es/index.js\"),c=d(n(\"./src/redux/store.js\")),l=n(\"./src/redux/actions/action-login.js\");function d(e){return e&&e.__esModule?e:{default:e}}var p=function(t){function n(e){!function(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,n);var t=function(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.handleChange=function(e){return function(e){t.setState({account:e.target.value})}},t.handleGetPwd=function(e){return function(e){t.setState({password:e.target.value})}},t.handleClick=function(){c.default.dispatch((0,l.goToLogin)(t.state))},t.state={account:\"\",password:\"\"},t}return function(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(n,e.Component),r(n,[{key:\"componentWillMount\",value:function(){}},{key:\"render\",value:function(){var t=this.props.classes;return e.createElement(\"div\",{id:\"login\"},e.createElement(\"form\",{className:t.container,noValidate:!0,autoComplete:\"off\"},e.createElement(s.default,{id:\"account\",label:\"Account\",className:t.textField,value:this.state.account,onChange:this.handleChange(\"account\"),margin:\"normal\"}),e.createElement(s.default,{id:\"password-input\",label:\"Password\",className:t.textField,type:\"password\",value:this.state.password,onChange:this.handleGetPwd(\"password-input\"),autoComplete:\"current-password\",margin:\"normal\"}),e.createElement(i.default,{size:\"small\",variant:\"outlined\",className:t.button,onClick:this.handleClick},\"Login\"),\"登录状态：\",this.props.loginData.loginstate+\" ,\"))}}]),n}();p.propTypes={classes:o.object.isRequired},t.default=(0,u.connect)(function(e){return{loginData:e.implLogin}})((0,a.withStyles)(function(e){return{container:{display:\"flex\",flexWrap:\"wrap\"},textField:{marginLeft:e.spacing.unit,marginRight:e.spacing.unit,width:200},button:{margin:e.spacing.unit}}})(p))}).call(this,n(\"./node_modules/react/index.js\"),n(\"./node_modules/prop-types/index.js\"))},\"./src/page/utils/apis.js\":function(e,t,n){\"use strict\";(function(e){Object.defineProperty(t,\"__esModule\",{value:!0});var o,r=n(\"./node_modules/qs/lib/index.js\"),a=(o=r)&&o.__esModule?o:{default:o};var s=e.create({baseURL:\"/api\"});s.interceptors.request.use(function(e){return\"post\"===e.method&&(e.data=a.default.stringify(e.data)),e},function(e){return console.log(e),alert(\"错误的传参\"),Promise.reject(e)}),s.interceptors.response.use(function(e){return e},function(e){return console.log(e),alert(\"网络异常，请检测网络！\"),Promise.reject(e)}),t.default={post:function(e,t){return new Promise(function(n,o){s.post(e,t).then(function(e){console.log(\"response\"),e.data.success?n(e):o(e)},function(e){console.log(\"error\"),o(e)}).catch(function(e){console.log(\"catch\"),o(e)})})}}}).call(this,n(\"./node_modules/axios/index.js\"))},\"./src/redux/actions/action-login.js\":function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0}),t.goToLogin=function(e){return console.log(e),console.log(\"action\"),function(t){s.default.post(\"/user/login.do\",{username:e.account,password:e.password}).then(function(e){console.log(e),t({type:r.LOGIN,loginstate:!0})},function(e){console.log(e),t({type:r.LOGIN,loginstate:!1})})}};var o,r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(\"./src/redux/actions/action-type.js\")),a=n(\"./src/page/utils/apis.js\"),s=(o=a)&&o.__esModule?o:{default:o}}}]);","extractedComments":[]}